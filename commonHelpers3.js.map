{"version":3,"file":"commonHelpers3.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const fetchImages = search => {\n  return fetch(\n    `https://pixabay.com/api/?key=44687559-d8ede6072036f50d72c2e92ab&q=${search}&image_type=photo&pretty=true&orientation=horizontal&safesearch=true`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const renderImages = (data, list) => {\n  const markup = data.hits\n    .map(pic => {\n      return `<li class=\"card\">\n        <a href=\"${pic.largeImageURL}\"><img\n          src=\"${pic.webformatURL}\"\n          alt=\"${pic.tags}\"\n          class=\"search-pic\"\n        />\n        </a>\n        <ul class=\"description\">\n          <li><a>Likes</a> <a>${pic.likes}</a></li>\n          <li><a>Views</a> <a>${pic.views}</a></li>\n          <li><a>Comments</a> <a>${pic.comments}</a></li>\n          <li><a>Downloads</a> <a>${pic.downloads}</a></li>\n        </ul>\n      </li>`;\n    })\n    .join('');\n\n  list.insertAdjacentHTML('beforeend', markup);\n\n  let gallery_x = new SimpleLightbox('.search-list a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n\n  gallery_x.on('show.simplelightbox', function (event) {\n    event.preventDefault();\n  });\n\n  gallery_x.refresh();\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { fetchImages } from './js/pixabay-api';\nimport { renderImages } from './js/render-functions';\n\nconst form = document.querySelector('.form-search');\nconst userText = document.querySelector('input[name=search]');\nconst list = document.querySelector('.search-list');\n\nform.addEventListener('submit', evt => {\n  evt.preventDefault();\n  let search = userText.value;\n  list.innerHTML = '';\n\n  const loader = document.createElement('span');\n  loader.className = 'loader';\n  document.body.appendChild(loader);\n\n  fetchImages(search)\n    .then(data => {\n      if (Object.keys(data.hits).length === 0) {\n        iziToast.error({\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      } else {\n        renderImages(data, list);\n        userText.value = '';\n      }\n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n      loader.remove();\n    });\n});\n"],"names":["fetchImages","search","response","renderImages","data","list","markup","pic","gallery_x","SimpleLightbox","event","form","userText","evt","loader","iziToast","error"],"mappings":"sFAAO,MAAMA,EAAcC,GAClB,MACL,qEAAqEA,CAAM,sEAC/E,EAAI,KAAKC,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,ECLUC,EAAe,CAACC,EAAMC,IAAS,CAC1C,MAAMC,EAASF,EAAK,KACjB,IAAIG,GACI;AAAA,mBACMA,EAAI,aAAa;AAAA,iBACnBA,EAAI,YAAY;AAAA,iBAChBA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,gCAKOA,EAAI,KAAK;AAAA,gCACTA,EAAI,KAAK;AAAA,mCACNA,EAAI,QAAQ;AAAA,oCACXA,EAAI,SAAS;AAAA;AAAA,YAG5C,EACA,KAAK,EAAE,EAEVF,EAAK,mBAAmB,YAAaC,CAAM,EAE3C,IAAIE,EAAY,IAAIC,EAAe,iBAAkB,CACnD,aAAc,MACd,aAAc,GAClB,CAAG,EAEDD,EAAU,GAAG,sBAAuB,SAAUE,EAAO,CACnDA,EAAM,eAAc,CACxB,CAAG,EAEDF,EAAU,QAAO,CACnB,EC7BMG,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAW,SAAS,cAAc,oBAAoB,EACtDP,EAAO,SAAS,cAAc,cAAc,EAElDM,EAAK,iBAAiB,SAAUE,GAAO,CACrCA,EAAI,eAAc,EAClB,IAAIZ,EAASW,EAAS,MACtBP,EAAK,UAAY,GAEjB,MAAMS,EAAS,SAAS,cAAc,MAAM,EAC5CA,EAAO,UAAY,SACnB,SAAS,KAAK,YAAYA,CAAM,EAEhCd,EAAYC,CAAM,EACf,KAAKG,GAAQ,CACR,OAAO,KAAKA,EAAK,IAAI,EAAE,SAAW,EACpCW,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACZ,CAAS,GAEDZ,EAAaC,EAAMC,CAAI,EACvBO,EAAS,MAAQ,GAEzB,CAAK,EACA,MAAMI,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACbF,EAAO,OAAM,CACnB,CAAK,CACL,CAAC"}